# ダッシュボード＆アラートスイート 開発計画書
バージョン: **0.1**（フロント重視・Tailwind対策版）  
作成日: **2025‑08‑01**

---
## 1. 目的・前提
- 本計画は「ダッシュボード＆アラートスイート企画書 v0.2」に基づき、**非エンジニア主体の“バイブコーディング”開発**を想定する。
- 主要レビューは **フロントエンドの見た目／UX** に限定されるため、**UIプロトタイプ→データ連携→ロジック実装**の順で段階的に開発。
- **Tailwind CSS** でエラーが頻発している現状を踏まえ、セットアップ・検証フェーズを最初に設ける。

## 2. 開発方針（ハイブリッド・ステップアプローチ）
| ステップ | 期間 | 目的 | 完成物 | レビュー観点 |
| --- | --- | --- | --- | --- |
| **0. 環境整備** | 8/04‑8/06 | Tailwind安定稼働＆CI導入 | Lint+Build通過状態の雛形プロジェクト | ビルド成功/クラス反映 |
| **1. UIスケルトン** | 8/06‑8/12 | ダッシュボード主要レイアウト＆コンポーネント配置 | Static HTML/TSX (MockData) | 配色・配置・レスポンシブ |
| **2. スタイルガイド** | 8/13‑8/16 | 色・タイポ・カード/ボタン規格化 | Storybook or Visual Doc | コンポーネント再利用性 |
| **3. ダッシュボードβ** | 8/17‑8/28 | Looker埋込＋Mock API連携 | 動的グラフ/テーブルが表示 | 表示崩れ・フィルタ操作 |
| **4. アラートUI** | 8/29‑9/04 | Teamsカード & Slack BlockKit テンプレ | Webhook叩くダミー送信 | 通知レイアウト/文言 |
| **5. データ統合** | 9/05‑9/18 | BigQuery接続・ダミーデータ流通 | 実データがUIに流入 | 指標値・更新タイミング |
| **6. 要因分析＋RAG** | 9/19‑9/30 | SHAP計算stub & Vertex呼び出し | 要因カード＋提案例表示 | 表示スピード/文言質 |
| **7. 運用自動化** | 10/01‑10/10 | Jira/メール連携・品質アラートCI | 自動タスク起票フロー | フロー完結性 |
| **8. 本番切替** | 10/11‑10/24 | データ本番テーブル切替 & 権限制御 | v1.0リリース | 画面/通知最終チェック |

> **ポイント**: ステップ3までは**ダミーデータ**でOK。非エンジニアがUIを触りながらFB→修正→再FBを高速回転。

## 3. Tailwind CSS 安定化ガイド
1. **バージョン固定**: 3.4.x にピン止め。
2. **`content` セレクタの集中管理**: `/src/**/*.{html,tsx}` のみに限定。
3. **Safe‑list**: 動的クラスは `@layer utilities` で宣言 or `safelist` オプションに列挙。
4. **CI Lint**: `@tailwindcss/jit` の診断 + `tailwindcss/no‑custom‑classname` ルールを有効化。
5. **ビルド監視**: `npm run dev` フェーズで **build failed 時にTeams通知**。
6. **Storybook visual regression**: Percy/Chromatic で差分検知。

## 4. スプリント計画（週次）
| Sprint | 期間 | 主要タスク | Demo Review |
| --- | --- | --- | --- |
| S1 | 8/04‑8/08 | 環境整備＋Header/Layout雛形 | 8/08 PM |
| S2 | 8/11‑8/15 | KPIカード & グリッド完成 | 8/15 PM |
| S3 | 8/18‑8/22 | ドリルダウンUI/モーダル | 8/22 PM |
| S4 | 8/25‑8/29 | Looker Embed β | 8/29 PM |
| S5 | 9/01‑9/05 | Teamsカード→Webhook送信 | 9/05 PM |
| S6 | 9/08‑9/12 | BigQuery接続（試験データ） | 9/12 PM |
| S7 | 9/15‑9/19 | SHAP可視化チャート | 9/19 PM |
| S8 | 9/22‑9/26 | Vertex AI呼び出し雛形 | 9/26 PM |
| S9 | 9/29‑10/03 | 統合E2Eテスト | 10/03 PM |
| S10 | 10/06‑10/10 | Jira連携 & CI強化 | 10/10 PM |
| S11 | 10/13‑10/17 | 本番データ切替 & 権限 | 10/17 PM |
| S12 | 10/20‑10/24 | リリース & ドキュメント整備 | 10/24 PM |

## 5. 役割分担（非エンジニア主体）
| ロール | 主担当 | 支援 | 主な活動 |
| --- | --- | --- | --- |
| **UIオーナー** | 非エンジニア | BIエンジニア | Tailwindコンポ作成、Look & Feel調整 |
| **データ配線** | データエンジニア | PM | BQビュー作成、Mock生成 |
| **CI担当** | MLOps/LLM Eng. | UIオーナー | Tailwindビルド監視、テスト自動化 |
| **PoCレビュワ** | CS代表ユーザ | - | 週次デモでUXフィードバック |

## 6. テスト方針
- **Visual Regression**: Storybook + Percy 差分テスト。
- **Smoke Test**: Sprint終盤に UI → API → DB 連結確認。
- **Tailwind Build Test**: CIで `tailwind‑lint && build`。

## 7. リスク & 対策
| リスク | 兆候 | 対策 |
| --- | --- | --- |
| Tailwindビルド失敗連発 | CI ×, 画面真っ白 | Safe‑list更新、CI通知即応 |
| UIフィードバック遅延 | Demo欠席 >20% | Demo録画＋Asanaタスク共有 |
| Looker埋込崩れ | iFrame制約 | Fallback静的画像キャッシュ |

## 8. 里程標 (Gate)
1. **Gate A (8/29)** — UIβが全画面遷移可能。
2. **Gate B (9/19)** — 実データがDash表示、Teams通知送信。
3. **Gate C (10/10)** — E2E通過 & Jira連携完了。
4. **Gate D (10/24)** — 本番リリース & ドキュメント完備。

---
### 付録: TailwindトラブルシュートQuick Tips
| 症状 | 原因候補 | 応急処置 |
| --- | --- | --- |
| クラスが効かない | contentパス漏れ | tailwind.config.js確認 |
| `Cannot find module 'tailwindcss'` | node_modules欠落 | `npm ci` 再実行 |
| Purgeで色消失 | Dynamic class | `v-[bg-...]` などをsafeに |

---

> **Next Action**: 8/04 AM Kick‑offで環境セットアップ方針を確認し、Tailwind CIを通すところまでペア作業で完了させる。

